<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Magazzino Ristorante</title>
<style>
body{
    font-family: Arial, sans-serif;
    margin:20px;
    background:#f4f4f4;
}
h1{
    text-align:center;
}
.container{
    max-width:600px;
    margin:auto;
}
input, button{
    padding:10px;
    margin:5px 0;
    font-size:16px;
}
button{
    cursor:pointer;
}
.card{
    background:white;
    padding:15px;
    margin-top:10px;
    border-radius:10px;
    box-shadow:0 2px 5px rgba(0,0,0,0.1);
}
.actions button{
    margin-right:5px;
}
.stock{
    font-weight:bold;
}
</style>
</head>
<body>

<div class="container">
<h1>Magazzino</h1>

<input type="text" id="nomeProdotto" placeholder="Nome prodotto">
<button onclick="aggiungiProdotto()">Aggiungi Prodotto</button>

<div id="listaProdotti"></div>
</div>

<script>
let prodotti = JSON.parse(localStorage.getItem("magazzino")) || [];

function salva(){
    localStorage.setItem("magazzino", JSON.stringify(prodotti));
}

function render(){
    const lista = document.getElementById("listaProdotti");
    lista.innerHTML = "";

    prodotti.forEach((p, index)=>{
        lista.innerHTML += `
        <div class="card">
            <div><strong>${p.nome}</strong></div>
            <div class="stock">Disponibile: ${p.quantita}</div>
            <div class="actions">
                <button onclick="carico(${index})">âž• Carico</button>
                <button onclick="scarico(${index})">âž– Scarico</button>
                <button onclick="elimina(${index})">ðŸ—‘ Elimina</button>
            </div>
        </div>
        `;
    });
}

function aggiungiProdotto(){
    const nome = document.getElementById("nomeProdotto").value;
    if(nome.trim() === "") return;

    prodotti.push({nome:nome, quantita:0});
    document.getElementById("nomeProdotto").value="";
    salva();
    render();
}

function carico(index){
    let q = prompt("QuantitÃ  da aggiungere:");
    if(q){
        prodotti[index].quantita += parseInt(q);
        salva();
        render();
    }
}

function scarico(index){
    let q = prompt("QuantitÃ  da togliere:");
    if(q){
        prodotti[index].quantita -= parseInt(q);
        if(prodotti[index].quantita < 0){
            prodotti[index].quantita = 0;
        }
        salva();
        render();
    }
}

function elimina(index){
    if(confirm("Sei sicuro di eliminare il prodotto?")){
        prodotti.splice(index,1);
        salva();
        render();
    }
}

render();
</script>

</body>
</html>
